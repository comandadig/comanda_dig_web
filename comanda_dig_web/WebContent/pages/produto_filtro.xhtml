<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">


<f:view contentType="text/html">
	<h:head>
		<f:facet name="first">
			<meta http-equiv="X-UA-Compatible" content="EmulateIE8" />
			<meta content='text/html; charset=UTF-8' http-equiv="Content-Type" />
		</f:facet>
	 <ui:include src="../css/all_css.css" />
	</h:head>
</f:view>


<h:form id="form">
	
	<p:layout resizerTip="Resize Me" togglerTipClosed="Open Me"
		togglerTipOpen="Close Me">
	
	<p:growl id="growl" showDetail="false" sticky="true" closable="true" />
	<p:messages id="messages" showDetail="false" closable="true" />
	
	<ui:include src="../pages/leftPage.xhtml" />
	<ui:include src="../pages/topPage.xhtml" />
	<p:layoutUnit  position="center">

		<p:panel style="width: 95%;">
		
			<p:dataTable id="dataTable" var="cat" value="#{categoriaMB.categoriaList}"
				paginator="true" rows="50">
				<f:facet name="header">Menu
				<p:outputPanel style="height:16px">
                
                <p:commandButton action="/pages/categoria_cadastro.xhtml" ajax="false" immediate="true"  value="Add/Edit Menu"  style="float:left" icon="fa fa-user-plus" />
       
            	</p:outputPanel>
           		 
           		  <p:spacer height="5px"/>
        		</f:facet>
				<p:column style="width:16px">
      			<p:rowToggler  />
   				</p:column>
			 	<p:column  headerText="Categoria">
						<p:outputLabel value="#{cat.nome}" />
				</p:column>
				
				<p:rowExpansion>
				<center>
				<p:dataTable  style="width: 50%;" id="dataTable2" var="item" widgetVar="usersTable" value="#{cat.produtosList}"  rows="5">
				
        	
        	<p:column  headerText="Item"  >
				<p:outputLabel value="#{item.nome}" />
			</p:column>
			
			
			<p:column  headerText="Valor"  >
				<p:outputLabel value="#{item.valor}">
					<f:convertNumber pattern="#0.00"/>
				</p:outputLabel>
			</p:column>
			
			
			<p:column style="width:80px;text-align: center">
				<f:facet name="header">
					<p:outputLabel value="Foto" />
				</f:facet>
				<center>
					<p:graphicImage url="../fotos/item_#{item.idProduto}.jpg" width="10px"
						height="10px" />
				</center>
			</p:column>
		</p:dataTable>
		</center>				
				</p:rowExpansion>

		</p:dataTable>
	</p:panel>
	
		
	


	
	

	
</p:layoutUnit>
</p:layout>	
	
</h:form>

</html>
